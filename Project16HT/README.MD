Модуль 16. STL
=====================================================================
16.9. Домашнее задание
======================

ЗАДАЧА: В качестве итогового домашнего задания вам необходимо реализовать концепцию чата,
который вы разрабатывали по итогам 1 блока курса, с использованием контейнеров стандартной библиотеки шаблонов.


Список использованных контейнеров:
ChatStateTable.h - контейнер std::vector для хранения таблицы состояний;
ChatUsersList.h - контейнер std::unordered_set для хранения списка пользователей;
ChatUsersList.h - контейнер std::set для хранения списка запрещённых логинов;
ChatMessagesList.h - контейнер std::unordered_multiset для хранения списка сообщений.

В классе ChatEngine реализована машина состояний, обеспечивающая интерфейс между пользователем и данными.
Необходимость ввода пароля администратора для выхода из чата, как этого требовало итоговое задание 1 блока, в данной реализации отсутствует. Особых сложностей нет, просто эта деталь представляется малозначимой.
При регистрации нового пользователя происходит проверка на уникальность выбранного логина и добавление в базу. Русские буквы при последующем выводе искажаются - лучше их не использовать. Повторное использование существующего логина не допускается алгоритмом.
При входе в чат происходит проверка на существование в базе введённого логина, а затем сравнения SHA-1 хеша от введённого пароля с сохранённым в базе.
При чтении сообщений все адресованные активному пользователю сообщения полностью извлекаются из контейнера.
При отправке сообщения оно помещается в контейнер с ключом, равным хешу от логина получателя. Можно отправлять сообщения самому себе. Русские буквы, опять же, искажаются.
Вывод списка зарегистрированных пользователей (как и работа с сообщениями) доступен после успешного входа в систему.
При завершении работы программы списки зарегистрированных пользователей и непрочитанных сообщений сохраняются в бинарные файлы, откуда затем загружаются в контейнеры при последующем старте.
Неустанённая ошибка: при выборе пункта "Завершение работы" после того, как была выполнена операция вывода списка пользователей, программа крашится на операции сохранения базы пользователей в файл (файл зануляется и вся информация о пользователях исчезает). По какой-то причине, к этому моменту уже вызываются деструкторы для объектов ChatUser класса ChatUsersList и динамические массивы с кешами пользователей оказываются удалёнными.
Неустранённое неудобство: при вводе текста сообщения недопустимо наличие пробелов, хвост после пробела не считывается и портит следующую команду.

Решение: Александр Павлинов 2021.11.02