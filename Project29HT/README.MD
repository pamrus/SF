# Модуль 29. Проектирование многопоточных структур данных
# 29.7. Итоговое задание

Напишите реализацию метода insertIntoMiddle(int value, int pos) для списка мелкогранулярной блокировкой. Часть кода уже написана — сама структура списка взята из юнита про мелкогранулярную блокировку и приведена ниже.
```
struct Node
{
  int value;
  Node* next;
  std::mutex* node_mutex;
};

class FineGrainedQueue
{
  Node* head;
  std::mutex* queue_mutex;
};
```

Функция должна вставить узел с переданным значением value в позицию pos. Чтобы не переусложнять реализацию, предполагается следующее:
*очередь не пустая,
*вставляется элемент в середину или конец списка, то есть вставку в начало списка не нужно рассматривать,
*если pos больше длины списка, то нужно вставить элемент в конец списка.



## Описание

Реализована функция insertIntoMiddle согласно ТЗ. Также реализован ряд потоконебезопасных вспомогательных функций (для заполнения, очистки и отображения списка на экране). \
Для сокращения объёма кода у класса Node добавлены конструктор и деструктор. \
Работа в параллельных потоках демонстрируется кодом в функции main: параллельно в двух потоках происходит заполнение очереди случайными значениями и удаление элементов. \
Содержимое списка по окончании работы потоков отображается на экране.



Решение: Александр Павлинов 2022.03.14
